!function(a){function c(){++b}var b=0;setInterval(c,1e3),a.fn.validatr=function(c){function j(g){if(g)f.html(errorMessage).show(),h.attr("disabled",!1);else{var k=[],n=e.find("."+d.emailClass);n.length>0&&n.each(function(){var b=a(this).val().trim();(a(this).hasClass(d.requiredClass)||""!=b)&&(l(b)||(g=!0,k.push("email address"),a(this).addClass(d.errorClass)))});var o=e.find("."+d.zipClass);o.length>0&&o.each(function(){var b=a(this).val().trim();m(b)||(g=!0,k.push("zip code"),a(this).addClass(d.errorClass))}),g?(errorMessage=(d.useFontAwesome?'<i class="fa fa-warning"></i> ':"")+"Please provide a valid "+k[0]+(k.length>1?" and "+k[1]:"")+".",j(g)):(d.filterSpam&&e.append('<input type="hidden" name="timer" value="'+b+'"/>'),d.useAJAX?(f.html(i).show(),a.post(d.handlerPath,e.serialize(),function(b){if(b==d.successStatus){var g=d.replaceForm?e:f;if(g.html(d.successMessage),d.disableOnSuccess){var h=a("input,textarea,select");e.find(h).prop("disabled",!0).css("cursor","auto")}if(d.clearInputs){var h=a("input,textarea,select").not("[type=submit]");e.find(h).val("")}c.callback.call(this)}else f.html(b).show()})):(e.unbind().submit(),f.html(i).show()))}}function k(b){var c=b.prop("type");if("checkbox"==c)return b.is(":checked");if("radio"==c){var d=b.attr("name");return a("input[name="+d+"]").filter(":checked").length>0}var e=b.val().trim(),d=b.attr("name");return""!=e&&e.toLowerCase()!=d.toLowerCase()}function l(a){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)}function m(a){return/^\d{5}(-\d{4})?$/.test(a)}var d=a.extend({statusElement:".status",requiredClass:"req",errorClass:"error",validateOnBlur:!0,emailClass:"validateEmail",zipClass:"validateZip",useFontAwesome:!1,filterSpam:!1,useAJAX:!1,handlerPath:"handleForm.php",disableOnSuccess:!0,successStatus:"success",replaceForm:!1,clearInputs:!1,submitMessage:"Submitting...",successMessage:"Thanks for contacting us!",errorMessage:"Please complete all required fields.",statusHidden:!1,callback:function(){}},c),e=a(this),f=e.find(d.statusElement),g=e.find("."+d.requiredClass),h=e.find("input[type=submit]"),i=d.submitMessage+(d.useFontAwesome?' <i class="fa fa-spinner fa-pulse"></i>':"");return d.statusHidden&&f.hide(),e.on("submit",function(b){b.preventDefault(),h.attr("disabled",!0),e.find("."+d.errorClass).removeClass(d.errorClass);var c=!1;g.each(function(){k(a(this))||(c=!0,a(this).addClass(d.errorClass),errorMessage=(d.useFontAwesome?'<i class="fa fa-warning"></i> ':"")+d.errorMessage)}),j(c)}),d.validateOnBlur&&g.on("blur",function(){k(a(this))?a(this).removeClass(d.errorClass):a(this).addClass(d.errorClass)}),this}}(jQuery);
